<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Abdull Jabbar</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/family-chart.css" />

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- <script src="https://example.com/fontawesome/v6.2.1/js/fontawesome.js" data-auto-replace-svg="nest"></script>
  <script src="https://example.com/fontawesome/v6.2.1/js/solid.js"></script>
  <script src="https://example.com/fontawesome/v6.2.1/js/brands.js"></script>
  <script src="https://example.com/fontawesome/v6.2.1/js/all.js" data-auto-replace-svg="nest"></script> -->

  <!-- Tree File -->
  <script src="https://unpkg.com/d3@6"></script>
  <!-- <script type="module" src="https://unpkg.com/family-chart@0.2.1"></script> -->
  <link rel="stylesheet" href="https://unpkg.com/family-chart@0.2.1/dist/styles/family-chart.css">

  <!-- <style>
      #f3Canvas {
        position: absolute !important;
      }
  </style> -->

</head>

<body>

  <!-- ======= Mobile nav toggle button ======= -->
  <!-- <button type="button" class="mobile-nav-toggle d-xl-none"><i class="bi bi-list mobile-nav-toggle"></i></button> -->
  <i class="bi bi-list mobile-nav-toggle d-xl-none"></i>
  <!-- ======= Header ======= -->
  <header id="header" class="d-flex flex-column justify-content-center">

    <nav id="navbar" class="navbar nav-menu">
      <ul>
        <li><a href="#hero" class="nav-link scrollto active"><i class="bx bx-home"></i><span>Beranda</span></a></li>
        <li><a href="#silsilah" class="nav-link scrollto"><i class="bx bx-book-content"></i> <span>Sisilah</span></a>
        </li>
        <li><a href="#galery" class="nav-link scrollto"><i class="bx bx-image"></i> <span>Galeri</span></a></li>
      </ul>
    </nav><!-- .nav-menu -->

  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="d-flex flex-column justify-content-center">
    <div class="container" data-aos="zoom-in" data-aos-delay="100">
      <p><span class="typed"
          data-typed-items="sugeng rawuh, love you everyone, you awesome, be good person, be good things, ;)"></span>
      </p>
    </div>
    <div class="container" data-aos="zoom-in" data-aos-delay="3000">
      <h1 style="color: white">Keluarga Abdul Jabbar</h1>
    </div>
  </section><!-- End Hero -->

  <main id="main">
    <!-- ======= Resume Section ======= -->
    <!-- <section id="resume" class="resume">
      <div class="container" data-aos="fade-up"> -->
    <section id="silsilah" class="portfolio section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Silsilah</h2>
          <!-- <p>Magnam dolores commodi suscipit. Necessitatibus eius consequatur ex aliquid fuga eum quidem. Sit sint consectetur velit. Quisquam quos quisquam cupiditate. Et nemo qui impedit suscipit alias ea. Quia fugiat sit in iste officiis commodi quidem hic quas.</p> -->
        </div>

        <div class="row">
          <div class="d-flex justify-content-center" data-aos="fade-up" data-aos-delay="100">
            <ul id="portfolio-flters" class="col-sm-12 d-flex"
                  style="overflow: auto;
                  justify-content: space-between;
                  background: whitesmoke;
                  padding: 0px !important;">
              <li class="filter-active" onclick="openTree('fam1')">H.Sakur</li>
              <li onclick="openTree('fam2')">Dasirah</li>
              <li onclick="openTree('fam3')">Jamilah</li>
              <li onclick="openTree('fam4')">Asfirah</li>
              <li onclick="openTree('fam5')">Dasiyem</li>
              <li onclick="openTree('fam6')">Dasiah</li>
              <li onclick="openTree('fam7')">Abdul Manan</li>
              <li onclick="openTree('fam8')">Musringah</li>
            </ul>
          </div>
        </div>
        <!-- <div class="row container" data-aos-delay="200" id="viewTree" style="min-height: 600px;"></div> -->
        <div id="familychart" class="row container f3" data-aos-delay="200"
          style="width:100%;
                min-height: 600px;
                height:900px;
                margin:auto;
                color:#fff;"></div>
      </div>
    </section>
    <!-- End Resume Section -->

    <!-- ======= Portfolio Section ======= -->
    <section id="galery" class="portfolio section-bg">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Galery</h2>
        </div>

        <div class="row">
          <div class="col-lg-12 d-flex justify-content-center" data-aos="fade-up" data-aos-delay="100">
            <ul id="portfolio-flters">
              <li data-filter="*" class="filter-active">Semua</li>
              <li data-filter=".filter-2021">2021</li>
              <li data-filter=".filter-2022">2022</li>
            </ul>
          </div>
        </div>

        <div class="row portfolio-container" data-aos="fade-up" data-aos-delay="200">

          <div class="col-lg-4 col-md-6 portfolio-item filter-2022">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/abdul-manan-1.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/abdul-manan-1.jpeg" data-gallery="portfolioGallery"
                    class="portfolio-lightbox" title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2022">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/dasirah-1.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/dasirah-1.jpeg" data-gallery="portfolioGallery"
                    class="portfolio-lightbox" title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/dasiyah-1.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/dasiyah-1.jpeg" data-gallery="portfolioGallery"
                    class="portfolio-lightbox" title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/musringah-1.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/musringah-1.jpeg" data-gallery="portfolioGallery"
                    class="portfolio-lightbox" title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/syakur-1.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/syakur-1.jpeg" data-gallery="portfolioGallery"
                    class="portfolio-lightbox" title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/syakur-2.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/syakur-2.jpeg" data-gallery="portfolioGallery"
                    class="portfolio-lightbox" title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/dasiyem-1.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/dasiyem-1.jpeg" data-gallery="portfolioGallery"
                    class="portfolio-lightbox" title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/xtr-1.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/xtr-1.jpeg" data-gallery="portfolioGallery" class="portfolio-lightbox"
                    title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/xtr-3.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/xtr-3.jpeg" data-gallery="portfolioGallery" class="portfolio-lightbox"
                    title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/xtr-2.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/xtr-2.jpeg" data-gallery="portfolioGallery" class="portfolio-lightbox"
                    title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>


          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/xtr-4.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/xtr-4.jpeg" data-gallery="portfolioGallery" class="portfolio-lightbox"
                    title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 portfolio-item filter-2021">
            <div class="portfolio-wrap">
              <img src="assets/img/galery/2021/xtr-5.jpeg" class="img-fluid" alt="">
              <div class="portfolio-info">
                <div class="portfolio-links">
                  <a href="assets/img/galery/2021/xtr-5.jpeg" data-gallery="portfolioGallery" class="portfolio-lightbox"
                    title="Web 3"><i class="bx bx-zoom-in"></i>
                    <p>open</p>
                  </a>
                </div>
              </div>
            </div>
          </div>

        </div>

      </div>
    </section>
    <!-- End Portfolio Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>projectkam</span></strong>
        <!-- <p><i class="bi bi-envelope"></i> projectkam@gmail.com</p>. -->
      </div>
      <div class="credits">
      </div>
    </div>
  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <script src="assets/js/jquery.js"></script>
  <script src="assets/js/famdata.js"></script>
  <script src="assets/js/data-family/fam-1.js"></script>
  <script src="assets/js/data-family/fam-2.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://unpkg.com/d3@6"></script>
  <!-- <script src="https://unpkg.com/family-chart"></script> -->
  <script type="module" src="https://unpkg.com/family-chart@0.2.1"></script>


  <!-- Script -->
  <script type="text/javascript">
    // $(document).ready(function() {
    //     // Click event for each li
    //     $("#portfolio-flters li").click(function() {
    //         // Remove the active class from all li
    //         $("#portfolio-flters li").removeClass("filter-active");
            
    //         // Add the active class to the clicked li
    //         $(this).addClass("filter-active");

    //         // Call the openTree function with the corresponding argument
    //         var treeId = $(this).attr('onclick').match(/'([^']+)'/)[1];
    //         openTree(treeId);
    //     });
    // });
    openTree('fam1')
    function openTree(famType) {
      var thisView = `<div class="col-lg-12 col-sm-12 portfolio-item filter-fam1 disabled-event" id="${famType}">
                          <div class="resume" data-aos="fade-up">
                            <div id="bloked" style="z-index: 1" class="bloked-div"></div>
                            <button class="btn-enabled btn" id="btn${famType}" onclick="enableTree('${famType}')">Buka</button>
                              <div class="col-lg-12">
                                  <div class="col-lg-12 col-sm-12 f3" id="fam-data"></div>
                              </div>
                          </div>
                      </div>`
      
      $(`#familychart`).html(thisView)
      $(`#bloked`).hide()
      $(`btn${famType}`).hide()
      $(`#bloked`).slideDown(2000)
      $(`btn${famType}`).fadeIn(2000)

      // console.log(famType);

      fetch(`assets/json/${famType}_data.json`)  // Adjust the path as needed based on your project structure
        .then(res => res.json())
        .then(data => create(data))
        .catch(err => console.error(err));
      }

      function create(data) {
        const cont = document.querySelector("#fam-data")
        const store = f3.createStore({
          data,
          node_separation: 250,
          level_separation: 150
        })
        const svg = f3.createSvg(cont)
        const Card = f3.elements.Card({
          store,
          svg,
          card_dim: { w: 220, h: 70, text_x: 75, text_y: 15, img_w: 60, img_h: 60, img_x: 5, img_y: 5 },
          card_display: [d => `${d.data["label"]}`, d => d.data["desc"]],
          mini_tree: true,
          link_break: false
        })

        store.setOnUpdate(props => f3.view(store.getTree(), svg, Card, props || {}))
        store.updateMainId('Q43274')  // Charles III
        store.updateTree({ initial: true })

        // with person_id this function will update the tree
        function updateTreeWithNewMainPerson(person_id, animation_initial = true) {
          store.updateMainId(person_id)
          store.updateTree({ initial: animation_initial })
        }

        // random person

        // d3.select(document.querySelector("#familychart"))
        //   .append("button")
        //   .text("Random Person")
        //   .attr("style", "position: absolute; top: 10px; right: 10px; z-index: 1000;")
        //   .on("click", () => {
        //     const random_person = data[Math.floor(Math.random() * data.length)]
        //     const person_id = random_person["id"]
        //     updateTreeWithNewMainPerson(person_id, false)
        //   })


        // setup search dropdown
        // this is basic showcase, please use some autocomplete component and style it as you want

        const all_select_options = []
        data.forEach(d => {
          if (all_select_options.find(d0 => d0.value === d["id"])) return
          all_select_options.push({ label: `${d.data["label"]}`, value: d["id"] })
        })

        const search_cont = d3.select(document.querySelector("#familychart")).append("div")
          .attr("style", "position: absolute; top: 10px; left: 10px; width: 150px; z-index: 1000; display:block")
          .on("focusout", () => {
            setTimeout(() => {
              if (!search_cont.node().contains(document.activeElement)) {
                updateDropdown([]);
              }
            }, 200);
          })

        const search_input = search_cont.append("input")
          .attr("style", "width: 100%;")
          .attr("type", "text")
          .attr("placeholder", "Search")
          .on("focus", activateDropdown)
          .on("input", activateDropdown)

        const dropdown = search_cont.append("div").attr("style", "overflow-y: auto; max-height: 300px; background-color: #000;")
          .attr("tabindex", "0")
          .on("wheel", (e) => {
            e.stopPropagation()
          })

        function activateDropdown() {
          const search_input_value = search_input.property("value")
          const filtered_options = all_select_options.filter(d => d.label.toLowerCase().includes(search_input_value.toLowerCase()))
          updateDropdown(filtered_options)
        }

        function updateDropdown(filtered_options) {
          dropdown.selectAll("div").data(filtered_options).join("div")
            .attr("style", "padding: 5px;cursor: pointer;border-bottom: .5px solid currentColor;")
            .on("click", (e, d) => {
              updateTreeWithNewMainPerson(d.value, true)
            })
            .text(d => d.label)
        }
      }
      

      function enableTree(famType) {
        $(`#${famType}`).removeClass("disabled-event")
        $(`#btn${famType}`).html('Tutup')
        $(`#btn${famType}`).attr('onclick', `disabledTree('${famType}')`)
        $("#bloked").animate( { height:"10%" }, { queue:false, duration:2000 });
      }

      function disabledTree(famType) {
        $(`#${famType}`).addClass("disabled-event")
        $(`#btn${famType}`).html('Buka')
        $(`#btn${famType}`).attr('onclick', `enableTree('${famType}')`)
        $("#bloked").animate( { height:"100%" }, { queue:false, duration:2000 });
      }

    // }

  </script>

  <!-- <script type="text/javascript">
  openTree('fam1')
  function openTree(famType) {
    var thisView = `<div class="col-lg-12 col-sm-12 portfolio-item filter-fam1 disabled-event" id="${famType}">
                        <div class="resume" data-aos="fade-up">
                          <div id="bloked" style="z-index: 1" class="bloked-div"></div>
                          <button class="btn-enabled btn" id="btn${famType}" onclick="enableTree('${famType}')">Buka</button>
                            <div class="col-lg-12">
                                <div class="col-lg-12 col-sm-12 f3" id="fam-data"></div>
                            </div>
                        </div>
                    </div>
                  `
    $(`#viewTree`).html(thisView)
    $(`#bloked`).hide()
    $(`btn${famType}`).hide()
    $(`#bloked`).slideDown(2000)
    $(`btn${famType}`).fadeIn(2000)

    const store = f3.createStore({
      data: data(`data${famType}`),
      node_separation: 300,
      level_separation: 150
    }),
    view = f3.d3AnimationView({
      store,
      cont: document.querySelector(`#fam-data`)
    }),
    Card = f3.elements.Card({
      store,
      svg: view.svg,
      card_dim: {
        w: 250,
        h: 70,
        text_x: 75,
        text_y: 15,
        img_w: 60,
        img_h: 60,
        img_x: 5,
        img_y: 5
      },
      card_display: [
        (d) => `${d.data["firstName"] || ""} ${d.data["lastName"] || ""}`,
        (d) => `${d.data["birthday"] || ""} ${d.data["genderDesc"] || ""}`
      ],
      mini_tree: true,
      link_break: false
    });

    view.setCard(Card);
    store.setOnUpdate((props) => view.update(props || {}));
    store.update.tree({ initial: true });
  }

  function enableTree(famType) {
    $(`#${famType}`).removeClass("disabled-event")
    $(`#btn${famType}`).html('Tutup')
    $(`#btn${famType}`).attr('onclick', `disabledTree('${famType}')`)
    $("#bloked").animate( { height:"10%" }, { queue:false, duration:2000 });

    // refreshbloked = setTimeout(function(){
    //   $(`#bloked`).attr('style', 'z-index: 0')
    //     clearInterval(refreshbloked)
    // },1500);
  }

  function disabledTree(famType) {
    $(`#${famType}`).addClass("disabled-event")
    $(`#btn${famType}`).html('Buka')
    $(`#btn${famType}`).attr('onclick', `enableTree('${famType}')`)
    $("#bloked").animate( { height:"100%" }, { queue:false, duration:2000 });

  }

</script> -->

</body>

</html>